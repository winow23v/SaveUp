<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>회사명 | 랜딩 페이지</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config={theme:{extend:{
      colors:{brand:{DEFAULT:"#5b8cff",dark:"#0a46c7"}},
    }}}
  </script>

  <style>
    :root{ --bt-desktop:16px; --bt-mobile:88px; }
    #backTop{ bottom:calc(env(safe-area-inset-bottom,0px)+var(--bt-desktop)); }
    @media (max-width:767px){ #backTop{ bottom:calc(env(safe-area-inset-bottom,0px)+var(--bt-mobile)); right:1rem; } }

    .skip-link{ position:fixed; top:.75rem; left:.75rem; z-index:60; background:#5b8cff; color:#fff; padding:.5rem .75rem; border-radius:.5rem; transform:translateY(-160%); transition:.18s }
    .skip-link:focus{ transform:translateY(0); }

    /* PDF 뷰어 모달 */
    .pdf-modal{ inset:0; background:rgba(0,0,0,.5); }
    .pdf-panel{ width:min(100% - 24px, 900px); height:min(90vh, 900px); display:flex; flex-direction:column; border-radius:1rem; overflow:hidden; box-shadow:0 20px 60px rgba(0,0,0,.25); }
    .pdf-toolbar{ display:flex; align-items:center; justify-content:space-between; padding:.75rem 1rem; background:#fff; border-bottom:1px solid rgba(15,23,42,.08); }
    .pdf-tools{ display:flex; align-items:center; gap:.5rem; }
    .pdf-btn{ display:inline-flex; align-items:center; justify-content:center; height:34px; padding:0 .75rem; border-radius:.5rem; border:1px solid rgba(15,23,42,.12); background:#fff; }
    .pdf-btn:hover{ background:#f8fafc; }
    .pdf-main{ position:relative; flex:1; background:#0b1220; display:flex; align-items:center; justify-content:center; overflow:auto; }
    .pdf-canvas{ background:#fff; box-shadow:0 6px 24px rgba(0,0,0,.25); border-radius:.5rem; }
    .pdf-loader{ position:absolute; top:12px; left:50%; transform:translateX(-50%); color:#cbd5e1; font-size:.9rem; }
  </style>

  <!-- PDF.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc = "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";
  </script>
</head>
<body class="bg-white text-slate-800 antialiased min-h-screen flex flex-col">
  <a href="#main" class="skip-link">본문으로 건너뛰기</a>

  <!-- 헤더 -->
  <header class="bg-white border-b sticky top-0 z-40">
    <div class="max-w-6xl mx-auto px-5 py-4 flex items-center justify-between">
      <a href="index.html" class="text-lg font-extrabold text-brand">회사명</a>
      <nav class="hidden md:flex items-center gap-6">
        <a href="about.html">About</a>
        <a href="service.html">Service</a>
        <a href="notice.html">Notice</a>
      </nav>
    </div>
  </header>

  <main id="main" class="flex-1">
    <!-- Hero -->
    <section class="text-center px-5 py-16 md:py-28">
      <h1 class="text-3xl md:text-5xl font-extrabold">
        카드 혜택을 <span class="text-brand">자동</span>으로, 소비는 <span class="text-brand">똑똑</span>하게
      </h1>
      <div class="mt-5 flex gap-3 justify-center">
        <button id="downloadBtn" class="px-5 py-3 rounded-lg bg-brand text-white">앱 다운로드</button>
        <button id="pdfPreviewBtn" class="px-5 py-3 rounded-lg border">제안서 미리보기</button>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="border-t py-6 text-sm text-slate-500 text-center">
    © <span id="year"></span> 회사명. All rights reserved.
  </footer>

  <!-- Back-to-top -->
  <button id="backTop" class="hidden fixed right-4 bottom-4 bg-brand text-white px-3 py-2 rounded-full">Top</button>

  <!-- PDF 미리보기 모달 -->
  <div id="pdfModal" class="pdf-modal hidden fixed flex items-center justify-center z-50 p-3">
    <div class="pdf-panel bg-white">
      <div class="pdf-toolbar">
        <div class="font-bold text-slate-800">제안서 미리보기</div>
        <div class="pdf-tools">
          <button id="btnPrev" class="pdf-btn">←</button>
          <div id="pageInfo" class="text-sm text-slate-600">1 / 1</div>
          <button id="btnNext" class="pdf-btn">→</button>
          <button id="btnZoomOut" class="pdf-btn">－</button>
          <button id="btnFit" class="pdf-btn">맞춤</button>
          <button id="btnZoomIn" class="pdf-btn">＋</button>
          <button id="closePdf" class="pdf-btn bg-brand text-white border-0">닫기</button>
        </div>
      </div>
      <div class="pdf-main">
        <div id="pdfLoader" class="pdf-loader">불러오는 중…</div>
        <canvas id="pdfCanvas" class="pdf-canvas"></canvas>
      </div>
    </div>
  </div>

  <!-- 출시 준비중 모달 -->
  <div id="downloadModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3">
    <div class="bg-white max-w-sm w-full p-6 rounded-xl shadow-lg text-center">
      <h3 class="text-xl font-bold mb-3">서비스 준비중</h3>
      <p class="text-slate-600 mb-6">앱 다운로드 서비스는 곧 제공될 예정입니다.</p>
      <button id="closeDownload" class="w-full px-6 py-3 bg-brand text-white rounded-lg">닫기</button>
    </div>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // 앱 다운로드 모달
    (function(){
      const m=document.getElementById('downloadModal');
      document.getElementById('downloadBtn').addEventListener('click',()=>m.classList.remove('hidden'));
      document.getElementById('closeDownload').addEventListener('click',()=>m.classList.add('hidden'));
      m.addEventListener('click',e=>{ if(e.target===m) m.classList.add('hidden'); });
    })();

    // PDF 뷰어
    (function(){
      const PDF_URL="/assets/SaveUp_test.pdf"; // 실제 PDF 경로
      const modal=document.getElementById('pdfModal');
      const openBtn=document.getElementById('pdfPreviewBtn');
      const closeBtn=document.getElementById('closePdf');
      const canvas=document.getElementById('pdfCanvas');
      const ctx=canvas.getContext('2d');
      const pageInfo=document.getElementById('pageInfo');
      const btnPrev=document.getElementById('btnPrev');
      const btnNext=document.getElementById('btnNext');
      const btnZoomIn=document.getElementById('btnZoomIn');
      const btnZoomOut=document.getElementById('btnZoomOut');
      const btnFit=document.getElementById('btnFit');
      const loader=document.getElementById('pdfLoader');

      let pdfDoc=null,currentPage=1,totalPages=1,scale=1.0,fitToWidth=true;

      function showLoader(v){ loader.style.display=v?'block':'none'; }
      function fitWidth(page){ return (modal.clientWidth-40)/page.getViewport({scale:1}).width; }

      async function renderPage(num){
        showLoader(true);
        const page=await pdfDoc.getPage(num);
        if(fitToWidth) scale=fitWidth(page);
        const viewport=page.getViewport({scale});
        canvas.width=viewport.width; canvas.height=viewport.height;
        await page.render({canvasContext:ctx,viewport}).promise;
        pageInfo.textContent=`${currentPage} / ${totalPages}`;
        showLoader(false);
      }

      openBtn.addEventListener('click',async()=>{
        modal.classList.remove('hidden');
        document.body.classList.add('overflow-hidden');
        const res=await fetch(PDF_URL);
        const buf=await res.arrayBuffer();
        pdfDoc=await pdfjsLib.getDocument({data:buf}).promise;
        totalPages=pdfDoc.numPages; currentPage=1; fitToWidth=true;
        await renderPage(currentPage);
      });

      closeBtn.addEventListener('click',()=>{ modal.classList.add('hidden'); document.body.classList.remove('overflow-hidden'); });

      btnPrev.addEventListener('click',()=>{ if(currentPage>1){ currentPage--; renderPage(currentPage);} });
      btnNext.addEventListener('click',()=>{ if(currentPage<totalPages){ currentPage++; renderPage(currentPage);} });
      btnZoomIn.addEventListener('click',()=>{ fitToWidth=false; scale+=0.2; renderPage(currentPage);} );
      btnZoomOut.addEventListener('click',()=>{ fitToWidth=false; scale=Math.max(0.4,scale-0.2); renderPage(currentPage);} );
      btnFit.addEventListener('click',()=>{ fitToWidth=true; renderPage(currentPage);} );
    })();
  </script>
</body>
</html>
